server {
    listen 80;
    server_name nginx.ai-servicers.com;

    # Root serves the landing page
    root /usr/share/nginx/sites/nginx-portal;
    index index.html;

    # Landing page
    location = / {
        try_files /index.html =404;
    }

    # Infrastructure Documentation
    location /infrastructure-docs/ {
        alias /usr/share/nginx/sites/infrastructure-docs/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # LangChain Portal
    location /langchain-portal/ {
        alias /usr/share/nginx/sites/langchain-portal/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Claude Code CLI Context Documentation
    location /claude-context/ {
        alias /usr/share/nginx/sites/claude-context/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Claude Context Architecture Diagram
    location /context-architecture/ {
        alias /usr/share/nginx/sites/context-architecture/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # New Hire Context Analogy
    location /new-hire-context/ {
        alias /usr/share/nginx/sites/new-hire-context/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Context Comparison (Side-by-Side)
    location /context-compare/ {
        alias /usr/share/nginx/sites/context-compare/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # MCP Code Execution Implementation Guide
    location /mcp-code-execution/ {
        alias /usr/share/nginx/sites/mcp-code-execution/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Health check endpoint
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
}
