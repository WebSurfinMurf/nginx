server {
    listen 80;
    server_name nginx.ai-servicers.com;

    # Root serves the landing page
    root /usr/share/nginx/sites/nginx-portal;
    index index.html;

    # Landing page
    location = / {
        try_files /index.html =404;
    }

    # Infrastructure Documentation
    location /infrastructure-docs/ {
        alias /usr/share/nginx/sites/infrastructure-docs/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # LangChain Portal
    location /langchain-portal/ {
        alias /usr/share/nginx/sites/langchain-portal/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Context Comparison (Side-by-Side)
    location /context-compare/ {
        alias /usr/share/nginx/sites/context-compare/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # MCP Architecture Guide - Token-Efficient Multi-Tool Orchestration
    location /mcp-architecture/ {
        alias /usr/share/nginx/sites/mcp-architecture/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Claude Code CLI Configuration
    location /claudecodecliconfig/ {
        alias /usr/share/nginx/sites/claudecodecliconfig/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Deployment Patterns Documentation
    location /deployment-patterns/ {
        alias /usr/share/nginx/sites/deployment-patterns/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Security & Authentication Documentation
    location /security-auth/ {
        alias /usr/share/nginx/sites/security-auth/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Network Topology Documentation
    location /network-topology/ {
        alias /usr/share/nginx/sites/network-topology/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # LLM Memory Documentation
    location /llm-memory/ {
        alias /usr/share/nginx/sites/llm-memory/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Hosted Applications Directory
    location /applications/ {
        alias /usr/share/nginx/sites/applications/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # User-Level Skills Documentation
    location /user-level-skills/ {
        alias /usr/share/nginx/sites/user-level-skills/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Project-Level Skills Documentation
    location /project-skills/ {
        alias /usr/share/nginx/sites/project-skills/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # User-Level Agents Documentation
    location /user-level-agents/ {
        alias /usr/share/nginx/sites/user-level-agents/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Project-Level Agents Documentation
    location /project-agents/ {
        alias /usr/share/nginx/sites/project-agents/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # DevScripts - Infrastructure Automation Tools
    location /devscripts/ {
        alias /usr/share/nginx/sites/devscripts/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Claude Code CLI Boot Sequence Documentation
    location /claude-boot-sequence/ {
        alias /usr/share/nginx/sites/claude-boot-sequence/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Health check endpoint
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
}
