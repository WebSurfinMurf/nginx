server {
    listen 80;
    server_name nginx.ai-servicers.com;

    # Root serves the landing page
    root /usr/share/nginx/sites/nginx-portal;
    index index.html;

    # Landing page
    location = / {
        try_files /index.html =404;
    }

    # Infrastructure Documentation
    location /infrastructure-docs/ {
        alias /usr/share/nginx/sites/infrastructure-docs/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # LangChain Portal
    location /langchain-portal/ {
        alias /usr/share/nginx/sites/langchain-portal/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Context Comparison (Side-by-Side)
    location /context-compare/ {
        alias /usr/share/nginx/sites/context-compare/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Context Layers (Redesigned Version)
    location /context-layers/ {
        alias /usr/share/nginx/sites/context-layers/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # MCP Architecture Guide - Token-Efficient Multi-Tool Orchestration
    location /mcp-architecture/ {
        alias /usr/share/nginx/sites/mcp-architecture/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Claude Code CLI Configuration
    location /claudecodecliconfig/ {
        alias /usr/share/nginx/sites/claudecodecliconfig/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Deployment Patterns Documentation
    location /deployment-patterns/ {
        alias /usr/share/nginx/sites/deployment-patterns/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Security & Authentication Documentation
    location /security-auth/ {
        alias /usr/share/nginx/sites/security-auth/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Network Topology Documentation
    location /network-topology/ {
        alias /usr/share/nginx/sites/network-topology/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # LLM Memory Documentation
    location /llm-memory/ {
        alias /usr/share/nginx/sites/llm-memory/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Hosted Applications Directory
    location /applications/ {
        alias /usr/share/nginx/sites/applications/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # User-Level Skills Documentation
    location /user-level-skills/ {
        alias /usr/share/nginx/sites/user-level-skills/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Project-Level Skills Documentation
    location /project-skills/ {
        alias /usr/share/nginx/sites/project-skills/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Create Solution Workflow Documentation (sub-page of user-level-skills)
    location /createsolution-docs/ {
        alias /usr/share/nginx/sites/createsolution-docs/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # User-Level Agents Documentation
    location /user-level-agents/ {
        alias /usr/share/nginx/sites/user-level-agents/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Project-Level Agents Documentation
    location /project-agents/ {
        alias /usr/share/nginx/sites/project-agents/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Project Hooks Documentation
    location /project-hooks/ {
        alias /usr/share/nginx/sites/project-hooks/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # DevScripts - Infrastructure Automation Tools
    location /devscripts/ {
        alias /usr/share/nginx/sites/devscripts/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Claude Code CLI Boot Sequence Documentation
    location /claude-boot-sequence/ {
        alias /usr/share/nginx/sites/claude-boot-sequence/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Flat Cap History - Irish Heritage
    location /flat-cap-history/ {
        alias /usr/share/nginx/sites/flat-cap-history/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Infrastructure Backlog - Improvement Tracker
    location /backlog/ {
        alias /usr/share/nginx/sites/backlog/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Backlog source file (for dynamic fetch)
    location /backlog/backlog.md {
        alias /usr/share/nginx/AINotes/backlog.md;
        add_header Content-Type text/plain;
        add_header Cache-Control "no-cache";
    }

    # AI Swarm Architecture Documentation
    location /ai-swarm-architecture/ {
        alias /usr/share/nginx/sites/ai-swarm-architecture/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Inter-Agent Protocol Documentation
    location /inter-agent-protocol/ {
        alias /usr/share/nginx/sites/inter-agent-protocol/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # MCP Swarm Dispatch Flow Documentation
    location /mcp-swarm-flow/ {
        alias /usr/share/nginx/sites/mcp-swarm-flow/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Shared AI Chat - Cross-Server Communication
    location /shared-ai-chat/ {
        alias /usr/share/nginx/sites/shared-ai-chat/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Options Finder - Strategy Search Architecture
    location /optionsfinder/ {
        alias /usr/share/nginx/sites/optionsfinder/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Options Executive - Executive Overview
    location /optionsexecutive/ {
        alias /usr/share/nginx/sites/optionsexecutive/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # AI Peer Review Board - Multi-Model Architecture
    location /review-board/ {
        alias /usr/share/nginx/sites/review-board/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Agent Workflow Documentation - Multi-Agent Architecture Guide
    location /agent-workflow/ {
        alias /usr/share/nginx/sites/agent-workflow/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # LiveKit WebRTC Debug Tool
    location = /livekit-debug.html {
        alias /usr/share/nginx/sites/livekit-debug.html;
        add_header Content-Type text/html;
    }

    # AI Agent Logos (for LiveKit Meet avatars)
    location /logos/ {
        alias /usr/share/nginx/sites/logos/;
        add_header Access-Control-Allow-Origin "*";
        try_files $uri =404;
    }

    # Automated AI-Assisted Development Workflow
    location /generalizeautomateddev/ {
        alias /usr/share/nginx/sites/generalizeautomateddev/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # AutomateDev - AI-Powered Development Workflow System
    location /automatedev/ {
        alias /usr/share/nginx/sites/automatedev/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Spec-Kit GitLab Pipeline - Executive Summary
    location /spec-kit-gitlab/ {
        alias /usr/share/nginx/sites/spec-kit-gitlab/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # CreatePlan Skill Documentation - Multi-AI Project Planning
    location /createplan-docs/ {
        alias /usr/share/nginx/sites/createplan-docs/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Spec-Kit GitLab Implementation Plan - AI Board Reviewed
    location /speckitgitlab-plan/ {
        alias /usr/share/nginx/sites/speckitgitlab-plan/;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Health check endpoint
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
}
