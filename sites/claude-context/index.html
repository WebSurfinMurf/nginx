<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Agent Context Management - linuxserver.lan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        nav {
            background: #f8f9fa;
            padding: 20px 40px;
            border-bottom: 2px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav a {
            color: #667eea;
            text-decoration: none;
            margin-right: 30px;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #764ba2;
        }

        .content {
            padding: 40px;
        }

        section {
            margin-bottom: 60px;
        }

        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        h4 {
            color: #555;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            color: #555;
        }

        .card {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .card.info {
            border-left-color: #17a2b8;
            background: #d1ecf1;
        }

        .card.warning {
            border-left-color: #ffc107;
            background: #fff3cd;
        }

        .card.success {
            border-left-color: #28a745;
            background: #d4edda;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .grid-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .grid-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .grid-item h4 {
            color: #667eea;
            margin-top: 0;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .diagram {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .flow {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .flow-item {
            background: #667eea;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: 500;
        }

        .flow-arrow {
            font-size: 2em;
            color: #667eea;
        }

        ul, ol {
            margin: 15px 0 15px 30px;
        }

        li {
            margin: 8px 0;
            color: #555;
        }

        .badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }

        .badge.auto {
            background: #28a745;
        }

        .badge.manual {
            background: #ffc107;
            color: #333;
        }

        footer {
            background: #2d2d2d;
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß† Claude Agent Context Management</h1>
            <p>Complete guide to hierarchical memory, subagents, and project organization on linuxserver.lan</p>
        </header>

        <nav>
            <a href="#overview">Overview</a>
            <a href="#memory-tiers">Memory Tiers</a>
            <a href="#claude-md">CLAUDE.md System</a>
            <a href="#subagents">Subagents</a>
            <a href="#skills">Skills</a>
            <a href="#tools">Tools & Commands</a>
            <a href="#workflows">Workflows</a>
        </nav>

        <div class="content">
            <!-- OVERVIEW -->
            <section id="overview">
                <h2><span class="emoji">üìã</span>System Overview</h2>

                <p>The linuxserver.lan infrastructure uses a sophisticated multi-tier memory and context management system for Claude agents. This system provides automatic context loading, persistent memory, specialized subagents, and comprehensive tooling.</p>

                <div class="card success">
                    <h4>Key Principles</h4>
                    <ul>
                        <li><strong>Hierarchical Context</strong>: Project-specific ‚Üí Infrastructure-wide ‚Üí Global context</li>
                        <li><strong>Automatic Loading</strong>: Context loads based on current working directory</li>
                        <li><strong>Persistent Memory</strong>: Facts persist across sessions via OpenMemory/mem0</li>
                        <li><strong>Specialized Agents</strong>: Different agent types for different tasks</li>
                        <li><strong>Self-Documenting</strong>: Infrastructure documents itself through CLAUDE.md files</li>
                    </ul>
                </div>

                <div class="diagram">
                    <h3>Agent Context Architecture</h3>
                    <div class="flow">
                        <div class="flow-item">Current Directory</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-item">Load Project CLAUDE.md</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-item">Load Parent CLAUDE.md</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-item">Query OpenMemory</div>
                        <div class="flow-arrow">‚Üí</div>
                        <div class="flow-item">Invoke Skills</div>
                    </div>
                </div>
            </section>

            <!-- MEMORY TIERS -->
            <section id="memory-tiers">
                <h2><span class="emoji">üß†</span>Three-Tier Memory Architecture</h2>

                <div class="grid">
                    <div class="grid-item">
                        <h4>üìÑ CLAUDE.md <span class="badge auto">Auto-Loaded</span></h4>
                        <p><strong>Purpose:</strong> Project instructions and documentation</p>
                        <p><strong>Use When:</strong> Need to know how to deploy, test, or configure THIS specific project</p>
                        <p><strong>Examples:</strong> "How do I deploy obsidian-api?", "What networks does this use?"</p>
                        <p><strong>Location:</strong> <code>/home/administrator/projects/&lt;project&gt;/CLAUDE.md</code></p>
                    </div>

                    <div class="grid-item">
                        <h4>üíæ OpenMemory (mem0) <span class="badge auto">Auto-Queried</span></h4>
                        <p><strong>Purpose:</strong> Persistent facts learned across ALL projects</p>
                        <p><strong>Use When:</strong> Patterns and knowledge that apply infrastructure-wide</p>
                        <p><strong>Examples:</strong> "3-network OAuth2 pattern", "PostgreSQL best practices", "Keycloak quirks"</p>
                        <p><strong>Location:</strong> PostgreSQL database + Gemini embeddings</p>
                    </div>

                    <div class="grid-item">
                        <h4>üìì Obsidian <span class="badge manual">Manual</span></h4>
                        <p><strong>Purpose:</strong> Your personal notes and research</p>
                        <p><strong>Use When:</strong> Save meeting notes, ideas, design documents</p>
                        <p><strong>Examples:</strong> "Save standup notes", "Document this decision"</p>
                        <p><strong>Location:</strong> <code>/home/administrator/projects/data/obsidian/vaults/linuxserver/</code></p>
                    </div>
                </div>

                <div class="card info">
                    <h4>When to Use What?</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Question</th>
                                <th>System</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>"How do I deploy this project?"</td>
                                <td>CLAUDE.md</td>
                                <td>Read project-specific CLAUDE.md</td>
                            </tr>
                            <tr>
                                <td>"What OAuth2 pattern should I use?"</td>
                                <td>OpenMemory</td>
                                <td>Query learned patterns</td>
                            </tr>
                            <tr>
                                <td>"What did we decide in last meeting?"</td>
                                <td>Obsidian</td>
                                <td>Search Obsidian notes</td>
                            </tr>
                            <tr>
                                <td>"What infrastructure services exist?"</td>
                                <td>CLAUDE.md</td>
                                <td>Read infrastructure CLAUDE.md</td>
                            </tr>
                            <tr>
                                <td>"Remember this bug fix for next time"</td>
                                <td>OpenMemory</td>
                                <td>Store in mem0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- CLAUDE.MD SYSTEM -->
            <section id="claude-md">
                <h2><span class="emoji">üìÑ</span>Hierarchical CLAUDE.md System</h2>

                <p>The CLAUDE.md system provides automatic context loading based on the current working directory. Claude recursively loads CLAUDE.md files from the current directory up to the root.</p>

                <h3>Directory Hierarchy</h3>
                <div class="diagram">
                    <pre><code>/home/administrator/projects/
‚îú‚îÄ‚îÄ CLAUDE.md                          ‚Üê Infrastructure-wide context (auto-loaded for ALL projects)
‚îÇ
‚îú‚îÄ‚îÄ obsidian-api/
‚îÇ   ‚îú‚îÄ‚îÄ CLAUDE.md                      ‚Üê Project-specific context (auto-loaded when in this directory)
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml
‚îÇ
‚îú‚îÄ‚îÄ keycloak/
‚îÇ   ‚îú‚îÄ‚îÄ CLAUDE.md                      ‚Üê Keycloak-specific context
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml
‚îÇ
‚îî‚îÄ‚îÄ litellm/
    ‚îú‚îÄ‚îÄ CLAUDE.md                      ‚Üê LiteLLM-specific context
    ‚îî‚îÄ‚îÄ docker-compose.yml</code></pre>
                </div>

                <h3>Loading Behavior</h3>
                <div class="card">
                    <h4>When working in <code>/home/administrator/projects/obsidian-api/</code>:</h4>
                    <ol>
                        <li>Claude loads <code>/home/administrator/projects/obsidian-api/CLAUDE.md</code> (project-specific)</li>
                        <li>Claude loads <code>/home/administrator/projects/CLAUDE.md</code> (infrastructure-wide)</li>
                        <li>Context includes both project AND infrastructure information</li>
                    </ol>
                </div>

                <h3>CLAUDE.md File Structure</h3>
                <pre><code># Project Name

**Status**: ‚úÖ Production / üöß Development / ‚è∏Ô∏è Paused / üî¥ Issue / ‚ö†Ô∏è Warning
**Version**: 1.0.0
**Deployed**: 2025-11-06
**Last Updated**: 2025-11-06
**Purpose**: One-line description of what this service does

---

## Quick Start

### Deploy
```bash
cd /home/administrator/projects/&lt;project&gt;
./deploy.sh
```

### Access
- **URL**: https://&lt;service&gt;.ai-servicers.com

---

## Architecture

### Components
- List main components

### Networks
- traefik-net
- oauth2-net
- db-net

### Dependencies
- PostgreSQL
- Keycloak
- Traefik

---

## Operations

### View Logs
```bash
docker logs &lt;service&gt; -f
```

### Restart
```bash
docker compose restart
```

---

## Recent Changes

### 2025-11-06
- Deployed with new feature X
- Fixed bug Y

---

**For infrastructure-wide context, see: `/home/administrator/projects/CLAUDE.md`**</code></pre>

                <h3>Quality Tools</h3>
                <div class="grid">
                    <div class="grid-item">
                        <h4>Validation</h4>
                        <p><code>/validate-claude</code></p>
                        <p>Validates CLAUDE.md for completeness, quality, and adherence to standards. Checks headers, sections, references, security, and age.</p>
                    </div>
                    <div class="grid-item">
                        <h4>Drift Detection</h4>
                        <p><code>/claude-diff</code></p>
                        <p>Compares CLAUDE.md vs actual deployment to catch documentation drift. Checks URLs, networks, ports, status, technologies.</p>
                    </div>
                    <div class="grid-item">
                        <h4>Health Check</h4>
                        <p><code>/health-check</code></p>
                        <p>Comprehensive health check for containers, networks, configuration, logs, and dependencies.</p>
                    </div>
                    <div class="grid-item">
                        <h4>Pattern Detection</h4>
                        <p><code>/detect-patterns</code></p>
                        <p>Identifies common infrastructure patterns and suggests improvements based on best practices.</p>
                    </div>
                </div>
            </section>

            <!-- SUBAGENTS -->
            <section id="subagents">
                <h2><span class="emoji">ü§ñ</span>Specialized Subagents</h2>

                <p>Claude Code supports launching specialized subagents for complex, multi-step tasks. Each agent type has specific capabilities and tools.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Agent Type</th>
                            <th>Purpose</th>
                            <th>When to Use</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>general-purpose</strong></td>
                            <td>Research complex questions, search code, multi-step tasks</td>
                            <td>Open-ended exploration, codebase research</td>
                        </tr>
                        <tr>
                            <td><strong>Explore</strong></td>
                            <td>Fast codebase exploration and pattern finding</td>
                            <td>Find files by pattern, search keywords, understand codebase</td>
                        </tr>
                        <tr>
                            <td><strong>Plan</strong></td>
                            <td>Planning implementation steps</td>
                            <td>Breaking down complex features before coding</td>
                        </tr>
                        <tr>
                            <td><strong>developer</strong></td>
                            <td>Implementation and deployment</td>
                            <td>Coding, deploying, debugging, database operations</td>
                        </tr>
                        <tr>
                            <td><strong>security</strong></td>
                            <td>Security and network infrastructure</td>
                            <td>Network topology, firewall rules, SSL/TLS, Keycloak setup</td>
                        </tr>
                        <tr>
                            <td><strong>pm</strong></td>
                            <td>Project orchestration</td>
                            <td>Multi-step tasks requiring coordination between agents</td>
                        </tr>
                        <tr>
                            <td><strong>architect</strong></td>
                            <td>System design and architecture</td>
                            <td>Infrastructure design, technology decisions, performance optimization</td>
                        </tr>
                    </tbody>
                </table>

                <div class="card info">
                    <h4>Example: Using Explore Agent</h4>
                    <pre><code>User: "Where are errors from the client handled?"
Claude: [Uses Task tool with subagent_type=Explore to find error handling]

Instead of running Glob/Grep directly, Claude launches an Explore agent that:
1. Searches for error handling patterns
2. Analyzes multiple files
3. Returns comprehensive findings</code></pre>
                </div>

                <h3>Agent Coordination</h3>
                <p>Agents can work together on complex tasks:</p>
                <ul>
                    <li><strong>PM agent</strong> coordinates overall project</li>
                    <li><strong>Architect agent</strong> designs the solution</li>
                    <li><strong>Security agent</strong> reviews security implications</li>
                    <li><strong>Developer agent</strong> implements the code</li>
                </ul>
            </section>

            <!-- SKILLS -->
            <section id="skills">
                <h2><span class="emoji">üõ†Ô∏è</span>Skills System</h2>

                <p>Skills are specialized workflows for common infrastructure tasks. They encapsulate best practices and provide step-by-step guidance.</p>

                <h3>Infrastructure Skills (14 Total)</h3>

                <div class="grid">
                    <div class="grid-item">
                        <h4>service-deployment</h4>
                        <p>Deploy containerized services with Docker, networks, OAuth2, and Traefik integration.</p>
                    </div>
                    <div class="grid-item">
                        <h4>keycloak-setup</h4>
                        <p>Create and configure Keycloak OIDC clients for application authentication.</p>
                    </div>
                    <div class="grid-item">
                        <h4>traefik-setup</h4>
                        <p>Configure Traefik reverse proxy, SSL/TLS certificates, and routing.</p>
                    </div>
                    <div class="grid-item">
                        <h4>postgres-integration</h4>
                        <p>PostgreSQL database creation, user management, connection configuration.</p>
                    </div>
                    <div class="grid-item">
                        <h4>network-config</h4>
                        <p>Docker network configuration, port mappings, DNS setup.</p>
                    </div>
                    <div class="grid-item">
                        <h4>secrets-security</h4>
                        <p>Secrets management, security hardening, access control.</p>
                    </div>
                    <div class="grid-item">
                        <h4>logging-observability</h4>
                        <p>Loki, Promtail, Grafana, Netdata integration for monitoring.</p>
                    </div>
                    <div class="grid-item">
                        <h4>troubleshooting</h4>
                        <p>Systematic debugging for service failures and network issues.</p>
                    </div>
                    <div class="grid-item">
                        <h4>naming-validator</h4>
                        <p>Validate resource names against infrastructure standards.</p>
                    </div>
                    <div class="grid-item">
                        <h4>claudemd-generator</h4>
                        <p>Auto-generate CLAUDE.md files for projects.</p>
                    </div>
                    <div class="grid-item">
                        <h4>openmemory</h4>
                        <p>Store and retrieve persistent facts using mem0 AI memory.</p>
                    </div>
                    <div class="grid-item">
                        <h4>architecture-diagram-creator</h4>
                        <p>Create architecture diagrams showing data flows and features.</p>
                    </div>
                </div>

                <div class="card">
                    <h4>Skill Location</h4>
                    <p><code>/home/administrator/.claude/skills/&lt;skill-name&gt;/SKILL.md</code></p>
                    <p>Skills are automatically available to Claude and invoked as needed.</p>
                </div>
            </section>

            <!-- TOOLS & COMMANDS -->
            <section id="tools">
                <h2><span class="emoji">‚öôÔ∏è</span>Tools & Commands</h2>

                <h3>Project Management Tools</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Command</th>
                            <th>Purpose</th>
                            <th>Script</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>/validate-claude</code></td>
                            <td>Validate CLAUDE.md quality</td>
                            <td><code>validate-claude-md.py</code></td>
                        </tr>
                        <tr>
                            <td><code>/health-check</code></td>
                            <td>Check project health</td>
                            <td><code>project-health-check.py</code></td>
                        </tr>
                        <tr>
                            <td><code>/claude-diff</code></td>
                            <td>Detect documentation drift</td>
                            <td><code>claude-diff.py</code></td>
                        </tr>
                        <tr>
                            <td><code>/detect-patterns</code></td>
                            <td>Find infrastructure patterns</td>
                            <td><code>detect-patterns.py</code></td>
                        </tr>
                        <tr>
                            <td><code>/find-project</code></td>
                            <td>Search for projects</td>
                            <td><code>find-project.py</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Automation Scripts</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Script</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>bulk-generate-claude.sh</code></td>
                            <td>Generate CLAUDE.md for all projects</td>
                        </tr>
                        <tr>
                            <td><code>build-claude-index.py</code></td>
                            <td>Build searchable project index</td>
                        </tr>
                        <tr>
                            <td><code>update-claude-after-deploy.sh</code></td>
                            <td>Auto-update CLAUDE.md on deployment</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Session Management</h3>
                <ul>
                    <li><code>/cexit</code> - Save session and exit properly</li>
                    <li>Automatic session summaries saved to AINotes</li>
                    <li>Context preservation across sessions</li>
                </ul>
            </section>

            <!-- WORKFLOWS -->
            <section id="workflows">
                <h2><span class="emoji">üîÑ</span>Common Workflows</h2>

                <h3>Deploying a New Service</h3>
                <div class="card">
                    <ol>
                        <li><strong>Validate name:</strong> Use <code>naming-validator</code> skill</li>
                        <li><strong>Deploy service:</strong> Use <code>service-deployment</code> skill</li>
                        <li><strong>Configure Keycloak:</strong> Use <code>keycloak-setup</code> skill (if needed)</li>
                        <li><strong>Configure Traefik:</strong> Use <code>traefik-setup</code> skill</li>
                        <li><strong>Setup database:</strong> Use <code>postgres-integration</code> skill (if needed)</li>
                        <li><strong>Generate CLAUDE.md:</strong> Use <code>claudemd-generator</code> skill</li>
                        <li><strong>Validate documentation:</strong> Run <code>/validate-claude</code></li>
                        <li><strong>Add to index:</strong> Run <code>build-claude-index.py</code></li>
                    </ol>
                </div>

                <h3>Updating Existing Service</h3>
                <div class="card">
                    <ol>
                        <li><strong>Make changes:</strong> Update code, configs, docker-compose.yml</li>
                        <li><strong>Deploy:</strong> Run <code>./deploy.sh</code></li>
                        <li><strong>Auto-update docs:</strong> Deployment script calls <code>update-claude-after-deploy.sh</code></li>
                        <li><strong>Check drift:</strong> Run <code>/claude-diff</code></li>
                        <li><strong>Fix drift:</strong> Update CLAUDE.md if needed</li>
                        <li><strong>Validate:</strong> Run <code>/validate-claude</code></li>
                    </ol>
                </div>

                <h3>Troubleshooting Issues</h3>
                <div class="card">
                    <ol>
                        <li><strong>Check health:</strong> Run <code>/health-check</code></li>
                        <li><strong>Use troubleshooting skill:</strong> Systematic debugging</li>
                        <li><strong>Check logs:</strong> <code>docker logs &lt;service&gt; -f</code></li>
                        <li><strong>Query memory:</strong> Check OpenMemory for similar issues</li>
                        <li><strong>Store solution:</strong> Save fix to OpenMemory for future</li>
                        <li><strong>Update docs:</strong> Document fix in CLAUDE.md</li>
                    </ol>
                </div>

                <h3>Learning New Patterns</h3>
                <div class="card">
                    <ol>
                        <li><strong>Explore codebase:</strong> Use Explore subagent</li>
                        <li><strong>Find similar projects:</strong> Run <code>/find-project &lt;tech&gt;</code></li>
                        <li><strong>Detect patterns:</strong> Run <code>/detect-patterns</code></li>
                        <li><strong>Read CLAUDE.md:</strong> Learn from similar services</li>
                        <li><strong>Apply patterns:</strong> Implement in new service</li>
                        <li><strong>Store knowledge:</strong> Save to OpenMemory</li>
                    </ol>
                </div>
            </section>

            <!-- FILE LOCATIONS -->
            <section id="locations">
                <h2><span class="emoji">üìÅ</span>Key File Locations</h2>

                <table>
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Location</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Projects</td>
                            <td><code>/home/administrator/projects/</code></td>
                            <td>All service projects</td>
                        </tr>
                        <tr>
                            <td>Infrastructure CLAUDE.md</td>
                            <td><code>/home/administrator/projects/CLAUDE.md</code></td>
                            <td>Infrastructure-wide context</td>
                        </tr>
                        <tr>
                            <td>Project CLAUDE.md</td>
                            <td><code>/home/administrator/projects/&lt;project&gt;/CLAUDE.md</code></td>
                            <td>Project-specific context</td>
                        </tr>
                        <tr>
                            <td>Secrets</td>
                            <td><code>/home/administrator/secrets/</code></td>
                            <td>Environment files and credentials</td>
                        </tr>
                        <tr>
                            <td>Skills</td>
                            <td><code>/home/administrator/.claude/skills/</code></td>
                            <td>Claude skills definitions</td>
                        </tr>
                        <tr>
                            <td>Commands</td>
                            <td><code>/home/administrator/.claude/commands/</code></td>
                            <td>Custom slash commands</td>
                        </tr>
                        <tr>
                            <td>Scripts</td>
                            <td><code>/home/administrator/projects/devscripts/</code></td>
                            <td>Automation and tooling scripts</td>
                        </tr>
                        <tr>
                            <td>AINotes</td>
                            <td><code>/home/administrator/projects/admin/AINotes/</code></td>
                            <td>Documentation and guides</td>
                        </tr>
                        <tr>
                            <td>Obsidian Vault</td>
                            <td><code>/home/administrator/projects/data/obsidian/vaults/linuxserver/</code></td>
                            <td>Personal notes and documentation</td>
                        </tr>
                        <tr>
                            <td>OpenMemory DB</td>
                            <td>PostgreSQL (openmemory database)</td>
                            <td>Persistent agent memory</td>
                        </tr>
                        <tr>
                            <td>Project Index</td>
                            <td><code>/home/administrator/projects/.claude-index.json</code></td>
                            <td>Searchable project metadata</td>
                        </tr>
                        <tr>
                            <td>Backlog</td>
                            <td><code>/home/administrator/projects/admin/AINotes/backlog.md</code></td>
                            <td>Future improvements and ideas</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- BEST PRACTICES -->
            <section id="best-practices">
                <h2><span class="emoji">‚ú®</span>Best Practices</h2>

                <div class="grid">
                    <div class="grid-item">
                        <h4>‚úÖ DO</h4>
                        <ul>
                            <li>Keep CLAUDE.md files updated</li>
                            <li>Run <code>/validate-claude</code> regularly</li>
                            <li>Use <code>/claude-diff</code> after deployments</li>
                            <li>Store learned patterns in OpenMemory</li>
                            <li>Follow naming conventions</li>
                            <li>Document changes in Recent Changes section</li>
                            <li>Use appropriate subagents for tasks</li>
                            <li>Leverage skills for common workflows</li>
                        </ul>
                    </div>

                    <div class="grid-item">
                        <h4>‚ùå DON'T</h4>
                        <ul>
                            <li>Don't let CLAUDE.md get stale (>90 days)</li>
                            <li>Don't ignore drift warnings</li>
                            <li>Don't hardcode secrets in CLAUDE.md</li>
                            <li>Don't skip validation checks</li>
                            <li>Don't create duplicate documentation</li>
                            <li>Don't bypass naming standards</li>
                            <li>Don't forget to update index after changes</li>
                            <li>Don't use HTTP URLs (always HTTPS)</li>
                        </ul>
                    </div>
                </div>

                <div class="card warning">
                    <h4>‚ö†Ô∏è Common Pitfalls</h4>
                    <ul>
                        <li><strong>Documentation Drift:</strong> CLAUDE.md doesn't match deployment - Use <code>/claude-diff</code></li>
                        <li><strong>Stale Information:</strong> Last Updated >90 days - Schedule regular reviews</li>
                        <li><strong>Missing Patterns:</strong> Not using infrastructure best practices - Run <code>/detect-patterns</code></li>
                        <li><strong>No Health Checks:</strong> Services without monitoring - Add health endpoints</li>
                        <li><strong>Unclear Purpose:</strong> CLAUDE.md purpose too vague - Make it specific and actionable</li>
                    </ul>
                </div>
            </section>

            <!-- REFERENCE -->
            <section id="reference">
                <h2><span class="emoji">üìö</span>Quick Reference</h2>

                <div class="grid">
                    <div class="grid-item">
                        <h4>Documentation</h4>
                        <ul>
                            <li><a href="https://nginx.ai-servicers.com/">Nginx Portal</a></li>
                            <li><code>/home/administrator/projects/CLAUDE-QUICKREF.md</code></li>
                            <li><code>/home/administrator/projects/admin/AINotes/claude-md-style-guide.md</code></li>
                            <li><code>/home/administrator/projects/admin/AINotes/backlog.md</code></li>
                        </ul>
                    </div>

                    <div class="grid-item">
                        <h4>Key Services</h4>
                        <ul>
                            <li><a href="https://traefik.ai-servicers.com/">Traefik Dashboard</a></li>
                            <li><a href="https://keycloak.ai-servicers.com/">Keycloak SSO</a></li>
                            <li><a href="https://grafana.ai-servicers.com/">Grafana Monitoring</a></li>
                            <li><a href="https://portainer.ai-servicers.com/">Portainer</a></li>
                        </ul>
                    </div>

                    <div class="grid-item">
                        <h4>Tools</h4>
                        <ul>
                            <li><code>/validate-claude</code> - Validate docs</li>
                            <li><code>/health-check</code> - Check health</li>
                            <li><code>/claude-diff</code> - Detect drift</li>
                            <li><code>/find-project</code> - Search projects</li>
                            <li><code>/detect-patterns</code> - Find patterns</li>
                        </ul>
                    </div>

                    <div class="grid-item">
                        <h4>Status Emojis</h4>
                        <ul>
                            <li>‚úÖ Production - Service running in production</li>
                            <li>üöß Development - Service in development</li>
                            <li>‚è∏Ô∏è Paused - Service paused/inactive</li>
                            <li>üî¥ Issue - Service has critical issues</li>
                            <li>‚ö†Ô∏è Warning - Service has warnings</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>

        <footer>
            <p><strong>linuxserver.lan Infrastructure</strong></p>
            <p>Claude Agent Context Management System | Updated: November 2025</p>
            <p><a href="https://nginx.ai-servicers.com/">Return to Nginx Portal</a></p>
        </footer>
    </div>
</body>
</html>
