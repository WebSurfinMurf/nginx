<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inter-Agent Protocol | linuxserver.lan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-elevated: #1a1a24;
            --border-subtle: #2a2a3a;
            --text-primary: #f0f0f5;
            --text-secondary: #8888a0;
            --text-muted: #55556a;
            --accent-blue: #4299e1;
            --accent-purple: #9f7aea;
            --accent-green: #48bb78;
            --accent-orange: #ed8936;
            --accent-cyan: #38b2ac;
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        body {
            font-family: 'Space Grotesk', -apple-system, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .hero {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 3rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff, #a0aec0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero .subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .nav-back {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .nav-back:hover { color: var(--accent-purple); }

        .section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-subtle);
        }

        .diagram-container {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 2rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }

        .diagram-container svg {
            width: 100%;
            height: auto;
            display: block;
            min-width: 900px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 1.5rem;
            transition: border-color 0.2s;
        }

        .feature-card:hover {
            border-color: var(--accent-purple);
        }

        .feature-card h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--accent-purple);
        }

        .feature-card ul {
            list-style: none;
            color: var(--text-secondary);
        }

        .feature-card ul li {
            padding: 0.35rem 0;
            padding-left: 1.25rem;
            position: relative;
        }

        .feature-card ul li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0.7rem;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--accent-purple);
        }

        .code-block {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-secondary);
            overflow-x: auto;
            margin: 1rem 0;
        }

        .file-tree {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .file-tree .folder {
            color: var(--accent-blue);
        }

        .file-tree .file {
            color: var(--text-secondary);
        }

        .file-tree .comment {
            color: var(--text-muted);
            font-style: italic;
        }

        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border-subtle);
        }

        .timeline-item {
            position: relative;
            padding-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1.65rem;
            top: 0.5rem;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-purple);
            border: 2px solid var(--bg-dark);
        }

        .timeline-item h4 {
            font-size: 1rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .timeline-item p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .timeline-item.pm::before { background: var(--accent-purple); }
        .timeline-item.architect::before { background: var(--accent-blue); }
        .timeline-item.security::before { background: var(--accent-orange); }
        .timeline-item.developer::before { background: var(--accent-green); }

        .badge {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-right: 0.5rem;
        }

        .badge-pm { background: rgba(159,122,234,0.2); color: var(--accent-purple); }
        .badge-architect { background: rgba(66,153,225,0.2); color: var(--accent-blue); }
        .badge-security { background: rgba(237,137,54,0.2); color: var(--accent-orange); }
        .badge-developer { background: rgba(72,187,120,0.2); color: var(--accent-green); }

        footer {
            margin-top: 3rem;
            padding: 2rem;
            border-top: 1px solid var(--border-subtle);
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        footer a {
            color: var(--accent-purple);
            text-decoration: none;
        }

        @media (max-width: 768px) {
            .hero h1 { font-size: 1.8rem; }
            .container { padding: 1rem; }
            .feature-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header class="hero">
        <h1>Inter-Agent Communication Protocol</h1>
        <p class="subtitle">File-Based Asynchronous Coordination for Claude Agents</p>
    </header>

    <main class="container">
        <a href="/ai-swarm-architecture/" class="nav-back">Back to AI Review Board Architecture</a>

        <!-- Agent Hierarchy Diagram -->
        <section class="section">
            <h2 class="section-title">Agent Hierarchy & Communication Flow</h2>
            <div class="diagram-container">
                <svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#8888a0"/>
                        </marker>
                        <marker id="arrow-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#9f7aea"/>
                        </marker>
                        <linearGradient id="pm-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea"/>
                            <stop offset="100%" style="stop-color:#764ba2"/>
                        </linearGradient>
                        <linearGradient id="arch-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#4299e1"/>
                            <stop offset="100%" style="stop-color:#3182ce"/>
                        </linearGradient>
                        <linearGradient id="sec-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ed8936"/>
                            <stop offset="100%" style="stop-color:#dd6b20"/>
                        </linearGradient>
                        <linearGradient id="dev-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#48bb78"/>
                            <stop offset="100%" style="stop-color:#38a169"/>
                        </linearGradient>
                    </defs>

                    <!-- Background -->
                    <rect x="0" y="0" width="1000" height="600" fill="#12121a"/>

                    <!-- PM Agent (Top Center) -->
                    <rect x="400" y="30" width="200" height="100" rx="12" fill="url(#pm-grad)" stroke="#9f7aea" stroke-width="2"/>
                    <text x="500" y="65" text-anchor="middle" fill="white" font-size="16" font-weight="600">PM Agent</text>
                    <text x="500" y="85" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Orchestrator</text>
                    <text x="500" y="105" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">~/.claude/agents/pm.md</text>

                    <!-- Architect Agent -->
                    <rect x="100" y="200" width="200" height="100" rx="12" fill="url(#arch-grad)" stroke="#4299e1" stroke-width="2"/>
                    <text x="200" y="235" text-anchor="middle" fill="white" font-size="16" font-weight="600">Architect</text>
                    <text x="200" y="255" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">System Design</text>
                    <text x="200" y="275" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">ADRs, Tech Evaluation</text>

                    <!-- Security Agent -->
                    <rect x="400" y="200" width="200" height="100" rx="12" fill="url(#sec-grad)" stroke="#ed8936" stroke-width="2"/>
                    <text x="500" y="235" text-anchor="middle" fill="white" font-size="16" font-weight="600">Security</text>
                    <text x="500" y="255" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Network & Auth</text>
                    <text x="500" y="275" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">Traefik, Keycloak</text>

                    <!-- Developer Agent -->
                    <rect x="700" y="200" width="200" height="100" rx="12" fill="url(#dev-grad)" stroke="#48bb78" stroke-width="2"/>
                    <text x="800" y="235" text-anchor="middle" fill="white" font-size="16" font-weight="600">Developer</text>
                    <text x="800" y="255" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Implementation</text>
                    <text x="800" y="275" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">Deploy, Debug</text>

                    <!-- File-Based Workspace (Center) -->
                    <rect x="250" y="380" width="500" height="120" rx="12" fill="#1a1a24" stroke="#2a2a3a" stroke-width="2"/>
                    <text x="500" y="410" text-anchor="middle" fill="#f0f0f5" font-size="14" font-weight="600">File-Based Workspace</text>
                    <text x="500" y="430" text-anchor="middle" fill="#8888a0" font-size="11">$HOME/projects/data/claudeagents/</text>

                    <!-- Workspace folders -->
                    <rect x="270" y="445" width="110" height="40" rx="6" fill="#12121a" stroke="#9f7aea" stroke-width="1"/>
                    <text x="325" y="470" text-anchor="middle" fill="#9f7aea" font-size="10">pm/tasks/</text>

                    <rect x="390" y="445" width="110" height="40" rx="6" fill="#12121a" stroke="#4299e1" stroke-width="1"/>
                    <text x="445" y="470" text-anchor="middle" fill="#4299e1" font-size="10">architect/decisions/</text>

                    <rect x="510" y="445" width="110" height="40" rx="6" fill="#12121a" stroke="#ed8936" stroke-width="1"/>
                    <text x="565" y="470" text-anchor="middle" fill="#ed8936" font-size="10">security/decisions/</text>

                    <rect x="630" y="445" width="110" height="40" rx="6" fill="#12121a" stroke="#48bb78" stroke-width="1"/>
                    <text x="685" y="470" text-anchor="middle" fill="#48bb78" font-size="10">developer/notes/</text>

                    <!-- Escalations box -->
                    <rect x="250" y="520" width="500" height="50" rx="8" fill="#12121a" stroke="#9f7aea" stroke-width="1" stroke-dasharray="5,5"/>
                    <text x="500" y="545" text-anchor="middle" fill="#9f7aea" font-size="11">escalations/{target-agent}/{project}/request-{topic}.md</text>
                    <text x="500" y="560" text-anchor="middle" fill="#55556a" font-size="9">Cross-agent escalation requests</text>

                    <!-- Connections: PM to specialists -->
                    <path d="M 450 130 L 250 200" stroke="#9f7aea" stroke-width="2" marker-end="url(#arrow-purple)"/>
                    <path d="M 500 130 L 500 200" stroke="#9f7aea" stroke-width="2" marker-end="url(#arrow-purple)"/>
                    <path d="M 550 130 L 750 200" stroke="#9f7aea" stroke-width="2" marker-end="url(#arrow-purple)"/>

                    <!-- Labels on PM connections -->
                    <text x="330" y="160" fill="#9f7aea" font-size="9">task-architect.md</text>
                    <text x="505" y="170" fill="#9f7aea" font-size="9">task-security.md</text>
                    <text x="660" y="160" fill="#9f7aea" font-size="9">task-developer.md</text>

                    <!-- Connections: Specialists to workspace -->
                    <path d="M 200 300 L 325 380" stroke="#4299e1" stroke-width="2" marker-end="url(#arrow)"/>
                    <path d="M 500 300 L 500 380" stroke="#ed8936" stroke-width="2" marker-end="url(#arrow)"/>
                    <path d="M 800 300 L 685 380" stroke="#48bb78" stroke-width="2" marker-end="url(#arrow)"/>

                    <!-- Labels on workspace connections -->
                    <text x="240" y="345" fill="#4299e1" font-size="9">Write ADRs</text>
                    <text x="510" y="345" fill="#ed8936" font-size="9">Write configs</text>
                    <text x="720" y="345" fill="#48bb78" font-size="9">Write notes</text>

                    <!-- Read connections (dashed) -->
                    <path d="M 300 250 L 400 250" stroke="#8888a0" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrow)"/>
                    <path d="M 600 250 L 700 250" stroke="#8888a0" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrow)"/>

                    <text x="350" y="240" fill="#8888a0" font-size="8">Reads design</text>
                    <text x="650" y="240" fill="#8888a0" font-size="8">Reads specs</text>

                    <!-- Legend -->
                    <rect x="30" y="520" width="180" height="60" rx="8" fill="#1a1a24" stroke="#2a2a3a" stroke-width="1"/>
                    <text x="120" y="540" text-anchor="middle" fill="#f0f0f5" font-size="11" font-weight="600">Legend</text>
                    <line x1="45" y1="555" x2="75" y2="555" stroke="#9f7aea" stroke-width="2"/>
                    <text x="85" y="558" fill="#8888a0" font-size="9">Task assignment</text>
                    <line x1="45" y1="568" x2="75" y2="568" stroke="#8888a0" stroke-width="1.5" stroke-dasharray="4,4"/>
                    <text x="85" y="571" fill="#8888a0" font-size="9">Reads from</text>
                </svg>
            </div>
        </section>

        <!-- Workspace Structure -->
        <section class="section">
            <h2 class="section-title">Workspace Directory Structure</h2>
            <div class="file-tree">
<span class="folder">$HOME/projects/data/claudeagents/</span>
├── <span class="folder">pm/</span>
│   ├── <span class="folder">tasks/</span>
│   │   └── <span class="folder">{project-path}/</span>
│   │       ├── <span class="file">task-breakdown.md</span>     <span class="comment"># Full task breakdown</span>
│   │       ├── <span class="file">task-architect.md</span>     <span class="comment"># Architect assignment</span>
│   │       ├── <span class="file">task-security.md</span>      <span class="comment"># Security assignment</span>
│   │       └── <span class="file">task-developer.md</span>     <span class="comment"># Developer assignment</span>
│   ├── <span class="folder">reports/</span>
│   │   └── <span class="folder">{project-path}/</span>
│   │       └── <span class="file">progress-{date}.md</span>   <span class="comment"># Progress summaries</span>
│   └── <span class="folder">notes/</span>
│       └── <span class="file">coordination-{date}.md</span>   <span class="comment"># Coordination notes</span>
│
├── <span class="folder">architect/</span>
│   ├── <span class="folder">decisions/</span>
│   │   └── <span class="folder">{project-path}/</span>
│   │       ├── <span class="file">architecture.md</span>       <span class="comment"># ADRs</span>
│   │       └── <span class="file">design.md</span>             <span class="comment"># Design specifications</span>
│   ├── <span class="folder">notes/</span>
│   │   └── <span class="file">research-{topic}.md</span>      <span class="comment"># Technology evaluations</span>
│   └── <span class="folder">reports/</span>
│       └── <span class="file">review.md</span>                 <span class="comment"># Architecture review</span>
│
├── <span class="folder">security/</span>
│   ├── <span class="folder">decisions/</span>
│   │   └── <span class="folder">{project-path}/</span>
│   │       ├── <span class="file">network.md</span>            <span class="comment"># Network topology</span>
│   │       ├── <span class="file">security.md</span>           <span class="comment"># Security config specs</span>
│   │       ├── <span class="file">traefik.md</span>            <span class="comment"># Traefik routing rules</span>
│   │       └── <span class="file">keycloak.md</span>           <span class="comment"># Authentication setup</span>
│   └── <span class="folder">notes/</span>
│       └── <span class="file">audit-{date}.md</span>          <span class="comment"># Security audit findings</span>
│
├── <span class="folder">developer/</span>
│   ├── <span class="folder">notes/</span>
│   │   └── <span class="folder">{project-path}/</span>
│   │       ├── <span class="file">deployment.md</span>         <span class="comment"># Deployment logs</span>
│   │       ├── <span class="file">debug-{issue}.md</span>      <span class="comment"># Debugging notes</span>
│   │       └── <span class="file">implementation.md</span>     <span class="comment"># Implementation details</span>
│   ├── <span class="folder">reports/</span>
│   │   └── <span class="file">build.md</span>                  <span class="comment"># Build and test reports</span>
│   └── <span class="folder">decisions/</span>
│       └── <span class="file">technical.md</span>              <span class="comment"># Technical decisions</span>
│
└── <span class="folder">*/escalations/</span>
    └── <span class="folder">{target-agent}/</span>
        └── <span class="folder">{project-path}/</span>
            └── <span class="file">request-{topic}.md</span>   <span class="comment"># Escalation requests</span>
            </div>
        </section>

        <!-- Task Delegation Patterns -->
        <section class="section">
            <h2 class="section-title">Task Delegation Patterns</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>Sequential Pattern (Default)</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">Architecture -> Security -> Development</p>
                    <div class="timeline">
                        <div class="timeline-item pm">
                            <h4><span class="badge badge-pm">PM</span> Create task breakdown</h4>
                            <p>Break down user request into specialist tasks</p>
                        </div>
                        <div class="timeline-item architect">
                            <h4><span class="badge badge-architect">Architect</span> Design solution</h4>
                            <p>Write ADR with technology choices</p>
                        </div>
                        <div class="timeline-item security">
                            <h4><span class="badge badge-security">Security</span> Configure infrastructure</h4>
                            <p>Network topology, auth, Traefik rules</p>
                        </div>
                        <div class="timeline-item developer">
                            <h4><span class="badge badge-developer">Developer</span> Implement & deploy</h4>
                            <p>Code, deploy, test, document</p>
                        </div>
                    </div>
                </div>
                <div class="feature-card">
                    <h3>Parallel Pattern</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">Independent research or components</p>
                    <div class="code-block">
## Parallel Tasks
- [ ] Architect: Evaluate technology options
- [ ] Architect: Design API contract
- [ ] Security: Plan network topology

## Sequential Follow-up
- [ ] Developer: Implement chosen solution
                    </div>
                </div>
                <div class="feature-card">
                    <h3>Iterative Pattern</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">Complex projects with feedback loops</p>
                    <div class="code-block">
## Iteration 1
- [ ] Architect: Initial design
- [ ] Developer: Prototype
- [ ] Architect: Refine based on feedback

## Iteration 2
- [ ] Security: Full security review
- [ ] Developer: Production deployment
                    </div>
                </div>
            </div>
        </section>

        <!-- Escalation Protocol -->
        <section class="section">
            <h2 class="section-title">Escalation Protocol</h2>
            <div class="diagram-container">
                <svg viewBox="0 0 900 400" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <marker id="esc-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#ed64a6"/>
                        </marker>
                    </defs>

                    <rect x="0" y="0" width="900" height="400" fill="#12121a"/>

                    <!-- PM Escalation Box -->
                    <rect x="350" y="20" width="200" height="80" rx="10" fill="#1a1a24" stroke="#9f7aea" stroke-width="2"/>
                    <text x="450" y="50" text-anchor="middle" fill="#9f7aea" font-size="14" font-weight="600">Escalate to PM</text>
                    <text x="450" y="70" text-anchor="middle" fill="#8888a0" font-size="10">User decisions needed</text>
                    <text x="450" y="85" text-anchor="middle" fill="#8888a0" font-size="10">Multi-agent coordination</text>

                    <!-- Architect Escalation -->
                    <rect x="50" y="150" width="180" height="100" rx="10" fill="#1a1a24" stroke="#4299e1" stroke-width="2"/>
                    <text x="140" y="175" text-anchor="middle" fill="#4299e1" font-size="13" font-weight="600">To Architect</text>
                    <text x="140" y="195" text-anchor="middle" fill="#8888a0" font-size="9">Architecture gaps</text>
                    <text x="140" y="210" text-anchor="middle" fill="#8888a0" font-size="9">Design flaws in prod</text>
                    <text x="140" y="225" text-anchor="middle" fill="#8888a0" font-size="9">Performance issues</text>
                    <text x="140" y="240" text-anchor="middle" fill="#8888a0" font-size="9">Tech evaluation needed</text>

                    <!-- Security Escalation -->
                    <rect x="280" y="150" width="180" height="100" rx="10" fill="#1a1a24" stroke="#ed8936" stroke-width="2"/>
                    <text x="370" y="175" text-anchor="middle" fill="#ed8936" font-size="13" font-weight="600">To Security</text>
                    <text x="370" y="195" text-anchor="middle" fill="#8888a0" font-size="9">Network topology changes</text>
                    <text x="370" y="210" text-anchor="middle" fill="#8888a0" font-size="9">Traefik routing config</text>
                    <text x="370" y="225" text-anchor="middle" fill="#8888a0" font-size="9">Keycloak client setup</text>
                    <text x="370" y="240" text-anchor="middle" fill="#8888a0" font-size="9">Security review needed</text>

                    <!-- Developer Escalation -->
                    <rect x="510" y="150" width="180" height="100" rx="10" fill="#1a1a24" stroke="#48bb78" stroke-width="2"/>
                    <text x="600" y="175" text-anchor="middle" fill="#48bb78" font-size="13" font-weight="600">To Developer</text>
                    <text x="600" y="195" text-anchor="middle" fill="#8888a0" font-size="9">Implementation feedback</text>
                    <text x="600" y="210" text-anchor="middle" fill="#8888a0" font-size="9">Runtime testing needed</text>
                    <text x="600" y="225" text-anchor="middle" fill="#8888a0" font-size="9">Deploy configurations</text>
                    <text x="600" y="240" text-anchor="middle" fill="#8888a0" font-size="9">Collect perf metrics</text>

                    <!-- Escalation file format -->
                    <rect x="50" y="290" width="800" height="90" rx="10" fill="#1a1a24" stroke="#ed64a6" stroke-width="2" stroke-dasharray="5,5"/>
                    <text x="450" y="315" text-anchor="middle" fill="#ed64a6" font-size="12" font-weight="600">Escalation File Format</text>
                    <text x="450" y="340" text-anchor="middle" fill="#8888a0" font-size="10" font-family="JetBrains Mono, monospace">escalations/{target-agent}/{project-path}/request-{topic}.md</text>
                    <text x="450" y="365" text-anchor="middle" fill="#55556a" font-size="10">Contains: From, To, Project, Priority, Date, Problem, Context, Request, Impact</text>

                    <!-- Arrows to PM -->
                    <path d="M 140 150 L 370 100" stroke="#ed64a6" stroke-width="1.5" marker-end="url(#esc-arrow)"/>
                    <path d="M 370 150 L 420 100" stroke="#ed64a6" stroke-width="1.5" marker-end="url(#esc-arrow)"/>
                    <path d="M 600 150 L 490 100" stroke="#ed64a6" stroke-width="1.5" marker-end="url(#esc-arrow)"/>

                    <!-- Cross-agent arrows -->
                    <path d="M 230 200 L 280 200" stroke="#8888a0" stroke-width="1" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
                    <path d="M 460 200 L 510 200" stroke="#8888a0" stroke-width="1" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
                </svg>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>When to Escalate to PM</h3>
                    <ul>
                        <li>User decisions or clarifications needed</li>
                        <li>Multi-agent coordination required</li>
                        <li>Project scope changes</li>
                        <li>Priority conflicts between agents</li>
                        <li>Resource allocation decisions</li>
                        <li>Blockers that can't be resolved independently</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Escalation File Template</h3>
                    <div class="code-block">
# Escalation: {Topic}

**From**: {source-agent}
**To**: {target-agent}
**Project**: {full-project-path}
**Priority**: High | Medium | Low
**Date**: {YYYY-MM-DD}

## Problem
{Description of the issue}

## Context
{Relevant background}

## Request
{What you need from target}

## Impact
{How this blocks progress}
                    </div>
                </div>
            </div>
        </section>

        <!-- Best Practices -->
        <section class="section">
            <h2 class="section-title">Best Practices</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>File Management</h3>
                    <ul>
                        <li>Use full absolute paths to avoid ambiguity</li>
                        <li>Mirror project structure in workspace directories</li>
                        <li>Complete output files before expecting others to read</li>
                        <li>Keep files updated - mark tasks complete</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Communication</h3>
                    <ul>
                        <li>Clear handoffs - state what's done, what's next</li>
                        <li>Document blockers immediately</li>
                        <li>Check for escalations regularly</li>
                        <li>Be specific - vague requests cause rework</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Key Principles</h3>
                    <ul>
                        <li>File-based communication only</li>
                        <li>Asynchronous by design - no waiting</li>
                        <li>Clear ownership of workspace directories</li>
                        <li>Persistent context across sessions</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <strong>Inter-Agent Communication Protocol v1.0</strong><br>
        Generated: 2025-12-08 | linuxserver.lan<br>
        <a href="/ai-swarm-architecture/">AI Review Board Architecture</a> |
        <a href="/">Portal Home</a>
    </footer>
</body>
</html>
